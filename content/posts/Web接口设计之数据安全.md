---
title: "Web接口设计之数据安全"
date: 2017-10-26T20:24:00+08:00
draft: false
---
最近有一个暴露在外网的接口服务需要加密。有了一些自己的想法，现记录下来。
# 层次一 #
## 层次二 ##
### 层次三 ###
#### 传输层加密 ####
Http明文传输接口报文非常不安全，必须使用HTTPS来做传输层加密，防止报文数被简单截取。

#### 调用权限验证 ####
做法来自于微信公众号开发中使用appid、nonce一次性随机数、盐、timestamp时间戳、用户名和密码来验证接口权限和建立双方互信。
客户端先向服务器发送获取token的请求，服务器验签后提供token给客户端。客户端调用接口时直接提供token，服务检查token是否存在、过期在根据情况提供api服务。

#### 访问控制列表 ####
服务器判断用户的api请求是否在访问控制列表中，如果用户没有所需功能的权限，返回错误信息。java平台爱能够保护web安全的常见框架如Spring Security、Apache Shiro。